---
phase: 01-foundation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [lib/prompts.md, lib/formatting.md, commands/business/biz-help.md]
autonomous: true
---

<objective>
Create shared command utilities for prompting patterns and output formatting, plus a help command to validate the pattern.

Purpose: Establish reusable patterns that all business framework commands will follow for consistent UX and output quality.
Output: Prompting utilities library, formatting utilities library, and help command.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

Reference implementations:
- Conductor questioning patterns: `~/.claude/conductor/references/questioning.md`
- MCP markdown export: `../business-design-mcp/src/storage/index.ts` (formatEntityAsMarkdown functions)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create prompting patterns reference</name>
  <files>lib/prompts.md</files>
  <action>
Create `lib/prompts.md` — a reference document defining how commands should gather information from users for each framework type.

Document prompting patterns for:

1. **General principles:**
   - Start open-ended: "Tell me about your business/product/idea"
   - Follow the thread: probe what they mentioned
   - Use AskUserQuestion for structured choices
   - Offer "Something else" / "Let me explain" escape hatches
   - Know when to stop: decision gate pattern

2. **Framework-specific prompts:**

   **Business Model Canvas:**
   - Start: "What's the core value you deliver to customers?"
   - Then probe: customer segments, how you reach them, revenue model
   - Use canvas order: Value Prop → Segments → Channels → Relationships → Revenue → Resources → Activities → Partners → Costs

   **Lean Canvas:**
   - Start: "What problem are you solving?"
   - Follow: "Who has this problem most acutely?" (early adopters)
   - Then: solution, UVP, unfair advantage
   - Focus on validation mindset

   **Value Proposition Canvas:**
   - Start with customer: "What job is your customer trying to get done?"
   - Map pains and gains before jumping to solution
   - Then value map: how you address each

   **SWOT Analysis:**
   - Context first: "What's the strategic decision you're analyzing?"
   - Internal then external: Strengths → Weaknesses → Opportunities → Threats
   - Ask for impact/severity on each

   **User Persona:**
   - Start with behavior: "Describe a typical user's day"
   - Then demographics, goals, frustrations
   - End with a quote that captures them

   **Competitive Analysis:**
   - Start: "Who are your main competitors?"
   - For each: strengths, weaknesses, positioning
   - End with: "How are you different?"

   **Market Sizing:**
   - Start with TAM: "What's the total market?"
   - SAM: "What portion can you realistically address?"
   - SOM: "What can you capture in [timeframe]?"
   - Always ask for methodology and sources

3. **Decision gate pattern:**
   - After gathering info: "Ready to create [framework], or want to explore more?"
   - Options: Create now, Ask more questions, Let me add context
  </action>
  <verify>File exists at lib/prompts.md with prompting patterns for all 7 frameworks</verify>
  <done>Prompting patterns reference created with framework-specific questioning flows</done>
</task>

<task type="auto">
  <name>Task 2: Create formatting utilities reference</name>
  <files>lib/formatting.md</files>
  <action>
Create `lib/formatting.md` — a reference document defining how to format framework outputs as markdown.

Document formatting patterns for:

1. **General structure:**
   - H1: Framework type and name
   - Description paragraph if present
   - Tags line if present
   - Horizontal rule before sections
   - H2 for major sections
   - H3 for subsections

2. **List formatting:**
   - Bold the primary field: `- **{main}** - {secondary} ({tertiary})`
   - Nested details as indented sub-bullets
   - Use "(type)" or "(impact: X)" for categorical metadata

3. **Framework-specific formats:**

   **Business Model Canvas:** 9 sections in logical order
   ```markdown
   ## Business Model Canvas: {name}

   {description}

   ---

   ### Customer Segments
   - **{segment}** - {characteristics} ({size})

   ### Value Propositions
   - **{proposition}**
     - Pains addressed: {pains}
     - Gains created: {gains}
   ...
   ```

   **Lean Canvas:** Problem-solution focused
   ```markdown
   ## Lean Canvas: {name}

   ### Problem
   - **{problem}**
     - Existing alternatives: {alternatives}

   ### Unique Value Proposition
   **{proposition}**
   High-level concept: {concept}
   ...
   ```

   **SWOT Analysis:** 2x2 with metadata
   ```markdown
   ## SWOT Analysis: {name}

   **Context:** {context}

   ### Strengths
   - {item} (impact: {impact})
   ...
   ```

4. **Linked entities section:**
   ```markdown
   ### Linked Entities
   - **{Type}**: {name} ({relationship})
   ```

5. **Footer:**
   ```markdown
   ---
   *Created: {date}*
   ```
  </action>
  <verify>File exists at lib/formatting.md with formatting templates for all frameworks</verify>
  <done>Formatting utilities reference created with markdown templates for all framework types</done>
</task>

<task type="auto">
  <name>Task 3: Create help command</name>
  <files>commands/business/biz-help.md</files>
  <action>
Create `commands/business/biz-help.md` — a simple help command that lists all available business design commands.

The command should:
1. Use conductor-style frontmatter
2. Display available commands in categories:
   - Project: biz:new-project
   - Frameworks: biz:bmc, biz:lean, biz:vpc, biz:swot
   - Analysis: biz:persona, biz:competitive, biz:market-sizing
   - Utilities: biz:list, biz:view, biz:link, biz:research
3. Show brief description for each
4. Link to lib/ references for more detail

This validates the command structure works and provides discoverability.

Command name: `biz:help`
  </action>
  <verify>File exists at commands/business/biz-help.md with valid structure and command listing</verify>
  <done>Help command created listing all business design commands</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `lib/prompts.md` exists with prompting patterns
- [ ] `lib/formatting.md` exists with formatting templates
- [ ] `commands/business/biz-help.md` exists with valid structure
- [ ] All files follow markdown/conductor conventions
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Prompting patterns documented for all 7 frameworks
- Formatting templates documented for all 7 frameworks
- Help command ready to use
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
