---
phase: 02-framework-commands
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [commands/business/biz-lean.md]
autonomous: true
---

<objective>
Create the Lean Canvas command.

Purpose: Enable users to create startup-focused Lean Canvases through conversational prompting, storing data as JSON with markdown summary output.
Output: `commands/business/biz-lean.md` — executable conductor-style command
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Reference implementations and patterns:
@commands/business/biz-new-project.md
@lib/types.md
@lib/prompts.md
@lib/formatting.md
@lib/storage.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create biz:lean command</name>
  <files>commands/business/biz-lean.md</files>
  <action>
Create the Lean Canvas command following the exact pattern from biz-new-project.md:

**Frontmatter:**
- name: biz:lean
- description: Create a Lean Canvas
- allowed-tools: [Read, Write, Bash, Glob, AskUserQuestion]

**Structure:**
1. `<objective>` — Create Lean Canvas through conversation, store as JSON + markdown
2. `<context>` — Reference lib/types.md Lean section, lib/prompts.md Lean section, lib/formatting.md Lean section
3. `<process>` with steps:
   - `check_project` — Verify .planning/business/project.json exists, error if not
   - `gather_info` — Use prompting patterns from lib/prompts.md (entry point: "What problem are you solving?", follow-up sequence, probing, decision gate)
   - `create_entity` — Generate ID (YYYYMMDD-HHMMSS), create .planning/business/lean/ if needed, write JSON per lib/types.md, write markdown per lib/formatting.md
   - `update_project` — Add entity reference to project.json entities array
   - `confirm` — Show success with entity details and next steps
4. `<output>` — List files created (JSON + MD)
5. `<success_criteria>` — JSON valid, markdown readable, project.json updated

**Key patterns to follow:**
- Same XML structure as biz-new-project.md
- Reference type definitions inline from lib/types.md (Lean Canvas section)
- Reference prompting flow inline from lib/prompts.md (Lean Canvas section)
- Reference output format inline from lib/formatting.md (Lean Canvas section)
  </action>
  <verify>cat commands/business/biz-lean.md shows complete command with frontmatter and XML structure</verify>
  <done>biz:lean command file exists with proper frontmatter, objective, context, process steps, output, and success_criteria</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] commands/business/biz-lean.md exists
- [ ] File has proper frontmatter (name, description, allowed-tools)
- [ ] File has XML structure matching biz-new-project.md pattern
- [ ] Process includes all required steps (check_project, gather_info, create_entity, update_project, confirm)
- [ ] References correct type definitions for Lean Canvas fields (Problem, Solution, UVP, etc.)
</verification>

<success_criteria>
- biz:lean command created following established patterns
- Command references all Lean Canvas fields from lib/types.md
- Command uses Lean Canvas prompting patterns from lib/prompts.md
- Command outputs Lean Canvas format from lib/formatting.md
</success_criteria>

<output>
After completion, create `.planning/phases/02-framework-commands/02-02-SUMMARY.md`
</output>
